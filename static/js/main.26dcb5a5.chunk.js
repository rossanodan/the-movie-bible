(this["webpackJsonpthe-movie-bible"]=this["webpackJsonpthe-movie-bible"]||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=a(16),i=a(77),s=a(36),m={},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return t.type,e},d=Object(s.b)(u),p=(a(88),a(21)),g=a(137),v=a(138),h=a(136),E=a(24),f=r.a.createContext({dark:!1,toggle:function(){}}),b=f;var _=["--background-color: #FFF","--color: #000"],k=["--background-color: #121212","--color: #FFF"],y=function(){var e,t,a=Object(n.useContext)(b),c=a.dark,o=a.toggle;return e=t=c?"dark":"light",r.a.createElement("header",null,r.a.createElement(g.a,{collapseOnSelect:!0,expand:"lg",bg:e,variant:t},r.a.createElement(g.a.Brand,{href:"/"},"The Movie Bible"),r.a.createElement(g.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(h.a,{title:"Theme",id:"collasible-nav-dropdown"},c?r.a.createElement(h.a.Item,{onClick:function(){return o()}},"Switch to Light"):r.a.createElement(h.a.Item,{onClick:function(){return o()}},"Switch to Dark"))))))},j=a(73),O=a.n(j),N=Object(p.f)((function(e){var t;return t=e.location.pathname.includes("/discover/movie/page/")?r.a.createElement(l.b,{to:"/"},"Home"):r.a.createElement(l.b,{to:"/discover/movie/page/1"},"Discover"),r.a.createElement("div",{className:O.a.pagesNavigator},t)})),S=a(42),C=a(43),w=a(47),x=a(44),T=a(48),B=a(45),I=a(28),L=a.n(I),M=a(75),D=a.n(M),P=function(e){return r.a.createElement("button",{className:D.a.button,onClick:e.handleClick},e.children)},F=a(139),H=a(54),W=a.n(H),J=function(e){var t=e.poster_path,a=e.title,n=e.id;return t?r.a.createElement(l.b,{to:"/movie/".concat(n)},r.a.createElement(F.a,{className:W.a.card},r.a.createElement(F.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500".concat(t)}))):r.a.createElement(l.b,{to:"/movie/".concat(n)},r.a.createElement(F.a,{className:W.a.card},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,a),r.a.createElement(F.a.Text,null,"Poster not available."))))},U=a(33),z=a.n(U),A=a(76),G=a.n(A),Q=a(6),R=a(46);function q(){var e=Object(B.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return q=function(){return e},e}var X="8d5e081a30c6a90602920729b5a9a439",Z=Object(Q.css)(q()),$=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(w.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState({searchTerm:e.target.value},(function(){a.search(a.state.searchTerm)}))},a.search=G.a.debounce((function(e){a.setState({isLoading:!0}),""!==e?L.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(X,"&query=").concat(e)).then((function(e){a.setState({results:e.data.results,isLoading:!1})})).catch((function(e){console.log(e),a.setState({error:!0,errorMessage:e,isLoading:!1})})):a.setState({results:[],isLoading:!1})}),1e3),a.state={searchTerm:"",results:[],error:!1,errorMessage:null,isLoading:!1},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:z.a.home},r.a.createElement("div",{className:z.a.searchBar},r.a.createElement("input",{className:z.a.search,placeholder:"Search movie...",type:"text",onChange:this.handleChange,value:this.state.searchTerm}),r.a.createElement(P,{handleClick:function(){e.setState({searchTerm:"",results:[]})}},"Clear")),r.a.createElement(R.ClipLoader,{css:Z,size:150,color:"#123abc",loading:this.state.isLoading}),r.a.createElement("div",{className:z.a.grid},this.state.results.map((function(e){return r.a.createElement(J,Object.assign({key:e.id},e))}))))}}]),t}(n.Component),K=a(50),V=a.n(K),Y="https://api.themoviedb.org/3/discover/movie?api_key=".concat("8d5e081a30c6a90602920729b5a9a439"),ee=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(w.a)(this,Object(x.a)(t).call(this,e))).fetch=function(){a.setState({loading:!0}),L.a.get("".concat(Y,"&sort_by=").concat(a.state.sortBy,"&page=").concat(a.state.page)).then((function(e){a.state.page===e.data.total_pages&&a.setState({hasMore:!1}),a.setState({movies:e.data.results,total_pages:e.data.total_pages,loading:!1})})).catch((function(e){console.log(e),a.setState({error:!0,loading:!1})}))},a.state={movies:[],isLoading:!1,page:parseInt(a.props.match.params.page),error:!1,hasMore:!0,sortBy:"popularity.desc",total_pages:0},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){var t=this.props;parseInt(e.match.params.page)!==parseInt(t.match.params.page)&&this.fetch()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=parseInt(e.match.params.page);this.setState({page:a},(function(){return t.fetch()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:V.a.discover},r.a.createElement("div",{className:V.a.paginator},r.a.createElement("div",null,1===this.state.page?null:r.a.createElement("div",null,r.a.createElement(P,{handleClick:function(){e.setState({page:1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Go to first"),r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.page-1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Previous"))),r.a.createElement("div",null,500===this.state.page?null:r.a.createElement("div",null,r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.page+1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Next"),r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.total_pages},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Go to last")))),r.a.createElement("div",{className:V.a.grid},this.state.movies.map((function(e){return r.a.createElement(J,Object.assign({key:e.id},e))}))))}}]),t}(n.Component),te=Object(p.f)(ee),ae=a(18),ne=a.n(ae);function re(){var e=Object(B.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return re=function(){return e},e}var ce=Object(Q.css)(re()),oe=Object(p.f)((function(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),i=Object(E.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(E.a)(u,2),p=d[0],g=d[1],v=Object(n.useState)(!1),h=Object(E.a)(v,2),f=h[0],b=h[1];Object(n.useEffect)((function(){b(!0),L.a.get("https://api.themoviedb.org/3/movie/".concat(parseInt(e.match.params.movie_id),"?api_key=").concat("8d5e081a30c6a90602920729b5a9a439")).then((function(e){o(e.data),m(e.data.genres),g(e.data.spoken_languages),console.log(e.data),b(!1)})).catch((function(e){console.log(e),b(!1)}))}),[e.match.params.movie_id]);return r.a.createElement("div",{className:ne.a.movie},r.a.createElement(R.ClipLoader,{css:ce,size:150,color:"#123abc",loading:f}),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ne.a.title},r.a.createElement("h1",null,c.title),r.a.createElement("small",null,c.tagline)),r.a.createElement("div",{className:ne.a.genres},s.map((function(t){return r.a.createElement(P,{key:t.id,handleClick:function(){e.history.push("/genre/".concat(t.id))}},t.name)}))),r.a.createElement("div",{className:ne.a.overview},r.a.createElement("p",null,c.overview)),r.a.createElement("div",{className:ne.a.runtime},r.a.createElement("p",null,c.runtime," minutes")),r.a.createElement("div",{className:ne.a.releaseDate},r.a.createElement("p",null,"Released on the ",c.release_date)),r.a.createElement("div",{className:ne.a.popularity},r.a.createElement("p",null,"Popularity ",c.popularity)),r.a.createElement("div",{className:ne.a.spokenLanguages},r.a.createElement("p",null,"Spoken languages:",function(e){return e.map((function(e){return" ".concat(e.name)})).toString()}(p))),r.a.createElement("div",{className:ne.a.media},c.poster_path?r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(c.poster_path),alt:c.title})):null,c.backdrop_path?r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(c.backdrop_path),alt:c.title})):null)):null)})),le=function(){return r.a.createElement("div",null,r.a.createElement(y,null),r.a.createElement("div",{className:"container",style:{paddingBottom:50}},r.a.createElement(N,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/"},r.a.createElement($,null)),r.a.createElement(p.a,{exact:!0,path:"/discover/movie/page/:page"},r.a.createElement(te,null)),r.a.createElement(p.a,{exact:!0,path:"/movie/:movie_id"},r.a.createElement(oe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:d},r.a.createElement(l.a,null,r.a.createElement((function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){"true"===window.localStorage.getItem("darkTheme")?(o(!0),l(k)):(o(!1),l(_))}),[c]);var l=function(e){document.getElementsByTagName("html")[0].style.cssText=e.join(";")};return r.a.createElement(f.Provider,{value:{dark:c,toggle:function(){document.getElementsByTagName("body")[0].style.cssText="transition: background .5s ease",o(!c),window.localStorage.setItem("darkTheme",!c)}}},e.children)}),null,r.a.createElement(le,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},18:function(e,t,a){e.exports={movie:"Movie_movie__2DTOA",title:"Movie_title__2cPUI",genres:"Movie_genres__1IeJC",media:"Movie_media__2WSz1"}},33:function(e,t,a){e.exports={home:"Home_home__1JXvv",searchBar:"Home_searchBar__1cPS_",search:"Home_search__3j1Qe",grid:"Home_grid__sUtIT"}},50:function(e,t,a){e.exports={discover:"Discover_discover__2QmHP",paginator:"Discover_paginator__30oc7",grid:"Discover_grid__N3-dO",card:"Discover_card__3dAWN"}},54:function(e,t,a){e.exports={card:"MovieCard_card__1C3-8"}},73:function(e,t,a){e.exports={pagesNavigator:"PagesNavigator_pagesNavigator__1CjZG"}},75:function(e,t,a){e.exports={button:"Button_button__2Lf63"}},79:function(e,t,a){e.exports=a(134)},88:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.26dcb5a5.chunk.js.map