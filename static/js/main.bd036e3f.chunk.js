(this["webpackJsonpthe-movie-bible"]=this["webpackJsonpthe-movie-bible"]||[]).push([[0],{137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),i=a(15),s=a(79),l=r.a.createContext({dark:!1,toggle:function(){}}),m=l;var u=["--background-color: #FFF","--color: #000"],p=["--background-color: #121212","--color: #FFF"],d=a(46),v=a(21),g=a(64),h=a(80),E={movie:{},genres:[],spokenLanguages:[]},f=Object(v.c)({movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIE":var a=t.payload.genres,n=t.payload.spoken_languages;return Object(h.a)({},t.payload,{genres:a,spokenLanguages:n});default:return e}}}),_=(a(91),a(22)),b=a(140),k=a(141),y=a(139),O=function(){var e,t,a=Object(n.useContext)(m),o=a.dark,c=a.toggle;return e=t=o?"dark":"light",r.a.createElement("header",null,r.a.createElement(b.a,{collapseOnSelect:!0,expand:"lg",bg:e,variant:t},r.a.createElement(b.a.Brand,{href:"/"},"The Movie Bible"),r.a.createElement(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(k.a,{className:"mr-auto"},r.a.createElement(y.a,{title:"Theme",id:"collasible-nav-dropdown"},o?r.a.createElement(y.a.Item,{onClick:function(){return c()}},"Switch to Light"):r.a.createElement(y.a.Item,{onClick:function(){return c()}},"Switch to Dark"))))))},j=a(72),N=a.n(j),S=Object(_.f)((function(e){var t;return t=e.location.pathname.includes("/discover/movie/page/")?r.a.createElement(i.b,{to:"/"},"Home"):r.a.createElement(i.b,{to:"/discover/movie/page/1"},"Discover"),r.a.createElement("div",{className:N.a.pagesNavigator},t)})),C=a(28),w=a(29),T=a(32),x=a(30),L=a(33),I=a(74),M=a(31),B=a.n(M),F=a(75),D=a.n(F),P=function(e){return r.a.createElement("button",{className:D.a.button,onClick:e.handleClick},e.children)},H=a(142),U=a(52),W=a.n(U),A=function(e){var t=e.poster_path,a=e.title,n=e.id;return t?r.a.createElement(i.b,{to:"/movie/".concat(n)},r.a.createElement(H.a,{className:W.a.card},r.a.createElement(H.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500".concat(t)}))):r.a.createElement(i.b,{to:"/movie/".concat(n)},r.a.createElement(H.a,{className:W.a.card},r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Title,null,a),r.a.createElement(H.a.Text,null,"Poster not available."))))},G=a(38),J=a.n(G),R=a(76),V=a.n(R),X=a(6),z=a(77);function Q(){var e=Object(I.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return Q=function(){return e},e}var q="8d5e081a30c6a90602920729b5a9a439",Z=Object(X.css)(Q()),$=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(T.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){a.setState({searchTerm:e.target.value},(function(){a.search(a.state.searchTerm)}))},a.search=V.a.debounce((function(e){a.setState({isLoading:!0}),""!==e?B.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(q,"&query=").concat(e)).then((function(e){a.setState({results:e.data.results,isLoading:!1})})).catch((function(e){console.log(e),a.setState({error:!0,errorMessage:e,isLoading:!1})})):a.setState({results:[],isLoading:!1})}),1e3),a.state={searchTerm:"",results:[],error:!1,errorMessage:null,isLoading:!1},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:J.a.home},r.a.createElement("div",{className:J.a.searchBar},r.a.createElement("input",{className:J.a.search,placeholder:"Search movie...",type:"text",onChange:this.handleChange,value:this.state.searchTerm}),r.a.createElement(P,{handleClick:function(){e.setState({searchTerm:"",results:[]})}},"Clear")),r.a.createElement(z.ClipLoader,{css:Z,size:150,color:"#123abc",loading:this.state.isLoading}),r.a.createElement("div",{className:J.a.grid},this.state.results.map((function(e){return r.a.createElement(A,Object.assign({key:e.id},e))}))))}}]),t}(n.Component),K=a(48),Y=a.n(K),ee="https://api.themoviedb.org/3/discover/movie?api_key=".concat("8d5e081a30c6a90602920729b5a9a439"),te=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(T.a)(this,Object(x.a)(t).call(this,e))).fetch=function(){a.setState({loading:!0}),B.a.get("".concat(ee,"&sort_by=").concat(a.state.sortBy,"&page=").concat(a.state.page)).then((function(e){a.state.page===e.data.total_pages&&a.setState({hasMore:!1}),a.setState({movies:e.data.results,total_pages:e.data.total_pages,loading:!1})})).catch((function(e){console.log(e),a.setState({error:!0,loading:!1})}))},a.state={movies:[],isLoading:!1,page:parseInt(a.props.match.params.page),error:!1,hasMore:!0,sortBy:"popularity.desc",total_pages:0},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){var t=this.props;parseInt(e.match.params.page)!==parseInt(t.match.params.page)&&this.fetch()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=parseInt(e.match.params.page);this.setState({page:a},(function(){return t.fetch()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Y.a.discover},r.a.createElement("div",{className:Y.a.paginator},r.a.createElement("div",null,1===this.state.page?null:r.a.createElement("div",null,r.a.createElement(P,{handleClick:function(){e.setState({page:1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Go to first"),r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.page-1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Previous"))),r.a.createElement("div",null,500===this.state.page?null:r.a.createElement("div",null,r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.page+1},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Next"),r.a.createElement(P,{handleClick:function(){e.setState({page:e.state.total_pages},(function(){e.props.history.push("/discover/movie/page/".concat(e.state.page))}))}},"Go to last")))),r.a.createElement("div",{className:Y.a.grid},this.state.movies.map((function(e){return r.a.createElement(A,Object.assign({key:e.id},e))}))))}}]),t}(n.Component),ae=Object(_.f)(te),ne=a(18),re=a.n(ne),oe=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).extractSpokenLanguages=function(e){return e.map((function(e){return" ".concat(e.name)})).toString()},a}return Object(L.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMovie(parseInt(this.props.match.params.movie_id))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:re.a.movie},this.props.movie?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:re.a.title},r.a.createElement("h1",null,this.props.movie.title),r.a.createElement("small",null,this.props.movie.tagline)),r.a.createElement("div",{className:re.a.genres},this.props.genres.map((function(t){return r.a.createElement(P,{key:t.id,handleClick:function(){e.props.history.push("/genre/".concat(t.id))}},t.name)}))),r.a.createElement("div",{className:re.a.overview},r.a.createElement("p",null,this.props.movie.overview)),r.a.createElement("div",{className:re.a.runtime},r.a.createElement("p",null,this.props.movie.runtime," minutes")),r.a.createElement("div",{className:re.a.releaseDate},r.a.createElement("p",null,"Released on the ",this.props.movie.release_date)),r.a.createElement("div",{className:re.a.popularity},r.a.createElement("p",null,"Popularity ",this.props.movie.popularity)),r.a.createElement("div",{className:re.a.spokenLanguages},r.a.createElement("p",null,"Spoken languages: ",this.extractSpokenLanguages(this.props.spokenLanguages))),r.a.createElement("div",{className:re.a.media},this.props.movie.poster_path?r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(this.props.movie.poster_path),alt:this.props.movie.title})):null,this.props.movie.backdrop_path?r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(this.props.movie.backdrop_path),alt:this.props.movie.title})):null)):null)}}]),t}(n.Component),ce=Object(d.b)((function(e){return{movie:e.movie,genres:e.movie.genres,spokenLanguages:e.movie.spokenLanguages}}),(function(e){return{fetchMovie:function(t){return e(function(e){return function(t){B.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("8d5e081a30c6a90602920729b5a9a439")).then((function(e){t({type:"FETCH_MOVIE",payload:e.data})}))}}(t))}}}))(Object(_.f)(oe)),ie=a(78),se=a.n(ie),le=Object(_.f)((function(e){return r.a.createElement("div",{className:se.a.notFound},r.a.createElement("p",null,"Page not found."),r.a.createElement(P,{handleClick:function(){e.history.goBack()}},"Go back"))})),me=function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{className:"container"},r.a.createElement(S,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/"},r.a.createElement($,null)),r.a.createElement(_.a,{exact:!0,path:"/discover/movie/page/:page"},r.a.createElement(ae,null)),r.a.createElement(_.a,{exact:!0,path:"/movie/:movie_id"},r.a.createElement(ce,null)),r.a.createElement(_.a,null,r.a.createElement(le,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d,pe=Object(v.e)(f,ue(Object(v.a)(g.a)));c.a.render(r.a.createElement(d.a,{store:pe},r.a.createElement(i.a,null,r.a.createElement((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){"true"===window.localStorage.getItem("darkTheme")?(c(!0),i(p)):(c(!1),i(u))}),[o]);var i=function(e){document.getElementsByTagName("html")[0].style.cssText=e.join(";")};return r.a.createElement(l.Provider,{value:{dark:o,toggle:function(){document.getElementsByTagName("body")[0].style.cssText="transition: background .5s ease",c(!o),window.localStorage.setItem("darkTheme",!o)}}},e.children)}),null,r.a.createElement(me,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},18:function(e,t,a){e.exports={movie:"Movie_movie__2DTOA",title:"Movie_title__2cPUI",genres:"Movie_genres__1IeJC",media:"Movie_media__2WSz1"}},38:function(e,t,a){e.exports={home:"Home_home__1JXvv",searchBar:"Home_searchBar__1cPS_",search:"Home_search__3j1Qe",grid:"Home_grid__sUtIT"}},48:function(e,t,a){e.exports={discover:"Discover_discover__2QmHP",paginator:"Discover_paginator__30oc7",grid:"Discover_grid__N3-dO",card:"Discover_card__3dAWN"}},52:function(e,t,a){e.exports={card:"MovieCard_card__1C3-8"}},72:function(e,t,a){e.exports={pagesNavigator:"PagesNavigator_pagesNavigator__1CjZG"}},75:function(e,t,a){e.exports={button:"Button_button__2Lf63"}},78:function(e,t,a){e.exports={notFound:"NotFound_notFound__3CEjn"}},82:function(e,t,a){e.exports=a(137)},91:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.bd036e3f.chunk.js.map